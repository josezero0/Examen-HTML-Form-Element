function validateForm(){for(var a=document.getElementById("c"),b=xmlDOC.getElementsByTagName("question"),c=0;c<maxQ;c++){var d=b[c].getElementsByTagName("type")[0];switch(d.innerHTML){case CHECKBOX:valCheckbox(a,b,c);break;case DATALIST:valDatalist(a,b,c);break;case RADIO:valRadio(a,b,c);break;case SELECT:valSelect(a,b,c);break;case TEXT:valText(a,b,c)}}showNote(a)}function valCheckbox(a,b,c){var d=!1,e=!1,f=0,g=document.getElementById("div"+c);createH2(a,c);for(var h=g.getElementsByTagName("input"),i=g.getElementsByTagName("label"),j=b[c].getElementsByTagName("answer"),k=0;k<j.length;k++)createAnswer(a,j,k);for(var k=0;k<h.length;k++)if(h[k].checked){d=!1,e=!0;for(var l=createAnswerLabel(a,i,k),m=0;m<j.length;m++)j[m].innerHTML==i[k].innerHTML&&(d=!0,f++,l.style="color: green");d||f--}e||createSinCumplimentar(a),f<=0?createComentario(a,"0 puntos"):(createComentario(a,"+ "+f/j.length+" puntos"),note+=f/j.length)}function valDatalist(a,b,c){var d=document.getElementById("div"+c);createH2(a,c);for(var e=d.getElementsByTagName("input"),f=b[c].getElementsByTagName("answer"),g=0;g<f.length;g++)createAnswer(a,f,g);var h=createAnswerInput(a,e);""==e[0].value&&createSinCumplimentar(a),e[0].value==f[0].innerHTML?(createComentario(a,"+ 1 puntos"),h.style="color: green",note++):createComentario(a,"0 puntos")}function valRadio(a,b,c){var d=!1,e=!1,f=document.getElementById("div"+c);createH2(a,c);for(var g=f.getElementsByTagName("input"),h=f.getElementsByTagName("label"),i=b[c].getElementsByTagName("answer"),j=0;j<i.length;j++)createAnswer(a,i,j);for(var j=0;j<g.length;j++)if(g[j].checked){d=!0;for(var k=createAnswerLabel(a,h,j),l=0;l<i.length;l++)i[l].innerHTML==h[j].innerHTML&&(e=!0,k.style="color: green",createComentario(a,"+ 1 puntos"),note++);e||createComentario(a,"0 puntos")}d||(createSinCumplimentar(a),createComentario(a,"0 puntos"))}function valSelect(a,b,c){var d=document.getElementById("div"+c);createH2(a,c);for(var e=d.getElementsByTagName("select"),f=b[c].getElementsByTagName("answer"),g=0;g<f.length;g++)createAnswer(a,f,g);if(e[0].value==-1)createSinCumplimentar(a);else var h=createAnswerInput(a,e);e[0].value==f[0].innerHTML?(h.style="color: green",createComentario(a,"+ 1 puntos"),note++):createComentario(a,"0 puntos")}function valText(a,b,c){var d=document.getElementById("div"+c);createH2(a,c);for(var e=b[c].getElementsByTagName("answer"),f=0;f<e.length;f++)createAnswer(a,e,f);var g=d.getElementsByTagName("input");if(""==g[0].value)createSinCumplimentar(a);else var h=createAnswerInput(a,g);g[0].value.toLowerCase()==e[0].innerHTML.toLowerCase()?(h.style="color: green",createComentario(a,"+ 1 puntos"),note++):createComentario(a,"0 puntos")}function showNote(a){a.appendChild(document.createElement("br")),penalizacion&&(createPenalizacion(a),note--),note<0&&(note=0),createNote(a),a.appendChild(document.createElement("br")),createIndexButton(a),a.appendChild(document.createElement("br"))}function createH2(a,b){h2=document.createElement("h2"),h2.innerHTML="P."+(b+1),a.appendChild(h2)}function createAnswer(a,b,c){var d=document.createElement("p");d.innerHTML=b[c].innerHTML,d.style="color: blue",a.appendChild(d)}function createAnswerLabel(a,b,c){var d=document.createElement("p");return d.innerHTML=b[c].innerHTML,d.style="color: red",a.appendChild(d),d}function createAnswerInput(a,b){var c=document.createElement("p");return c.innerHTML=b[0].value,c.style="color: red",a.appendChild(c),c}function createSinCumplimentar(a){var b=document.createElement("p");b.innerHTML="Pregunta sin contestar",b.style="color: red",a.appendChild(b)}function createComentario(a,b){var c=document.createElement("p");c.innerHTML=b,a.appendChild(c)}function createPenalizacion(a){var b=document.createElement("p");b.innerHTML="- 1 puntos por penalizaciÃ³n de tiempo",b.style="color: red",a.appendChild(b)}function createNote(a){var b=document.createElement("h1");b.innerHTML="Nota: "+note.toFixed(2),a.appendChild(b)}function createIndexButton(a){var b=document.createElement("button");b.className="button",b.innerHTML="INICIO",b.id="btnIndex";var c=document.createElement("div");c.style="text-align: center",a.appendChild(c),c.appendChild(b),document.getElementById("btnIndex").onclick=function(){window.location.href="index.html"}}var penalizacion=!1,note=0;